{
  "comments": [
    {
      "key": {
        "uuid": "038c0273_000d345e",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-05-08T11:46:22Z",
      "side": 1,
      "message": "should not need to run as root.",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 12
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02c2e8cd_4a273660",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5239
      },
      "writtenOn": "2019-05-08T13:17:28Z",
      "side": 1,
      "message": "It has to be. Molecule image can not be created as other user. We already talked about it: docker user group on community vm has group id 999, on molecule base image this group id is already used.",
      "parentUuid": "038c0273_000d345e",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 12
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9a31ce6_21494d1e",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-05-09T06:53:39Z",
      "side": 1,
      "message": "1) was mainly thinking that pre-build images would be done as non-root user (in docker group) like in dev env\n${LOCAL_PATH}/../images/docker/build-all.sh\n\n2) Considering molecule docker image\nOur Dockerfile has functionality (sshpass) that is needed and it\u0027s in image only with non-root user, not with root.\nIf there is some clash of Ids, that must be worked out. I did not get that.\n\n3) We probably will need to change ci-molecule.sh and set MOLECULE_CONTAINER default value to false i.e. because we cannot run all tests with molecule-container. That\u0027s because at least infra play has step that restarts host\u0027s docker. \nOr set that variable to false for those kind of tests in calling wrapper (not so nice). Let\u0027s see.",
      "parentUuid": "02c2e8cd_4a273660",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 12
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5d37dbc_6ff3115a",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5239
      },
      "writtenOn": "2019-05-09T07:58:09Z",
      "side": 1,
      "message": "1) can be done however as this vms are gone right after the build we do not care, do we?\n2) On the community jenkins slave docker group has: \"docker:x:999:jenkins\"\nWhen running base image for molecule-dev docker: cat /etc/group | grep 999 outcome is :\"ping:x:999:\"\nThen when trying to build image, at the step of adding new group there is an error : \"groupadd: GID \u0027999\u0027 already exists\" \u003e\u003e\u003e I will make small adjustment to Dockerfile that will fix it.\n3) this makes case 2) sort of irrelevant. I started to work on virtenv option but it was taking much more to set up environment before running any test.",
      "parentUuid": "d9a31ce6_21494d1e",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 12
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3079e37_705088a2",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-05-08T11:46:22Z",
      "side": 1,
      "message": "make a function out of this as exactly the same code is now copy-pasted below to run play-xxx",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 42,
        "endChar": 6
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e76fe0c_2db0c1d2",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 5239
      },
      "writtenOn": "2019-05-08T13:17:28Z",
      "side": 1,
      "message": "fixed",
      "parentUuid": "c3079e37_705088a2",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 42,
        "endChar": 6
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e9ec9fe7_612b9acb",
        "filename": "offline-installer-review.sh",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-05-08T11:46:22Z",
      "side": 1,
      "message": "root",
      "range": {
        "startLine": 53,
        "startChar": 8,
        "endLine": 53,
        "endChar": 12
      },
      "revId": "3f6c79fd901da44cf2cf1ea511bb31555fc952ae",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}