---
rke_binary: rke_linux-amd64
rke_username: rke
rke_bin_dir: /usr/local/bin
kube_config_dir: "{{ ansible_env.HOME }}/.kube"
cluster_config_dir: "{{ app_data_path }}/cluster"
# Whether dashboard is exposed.
rke_dashboard_exposed: true
rke_etcd:
  # By default rke creates bind mount:
  # /var/lib/etcd -> /var/lib/rancher/etcd
  # These parameters provide means of modifying it:
  #   - custom bind mount
  #   - option to use volatile storage

  # Custom bind mount
  #
  # I did not find a proper way (in the docs) how to override the
  # defaults so I just abuse the extra_* args for the rke etcd
  # service. It means that it will create another mount point in the
  # container and you should use different pathnames than default...
  #
  # The custom bind mount is by default disabled.
  enabled_custom_etcd_storage: false

  # Applicated only if custom mount is enabled.
  # Paths must be absolute (start with '/')
  #
  # Path on the kubernetes/etcd node
  storage_path: /var/lib/etcd-custom
  # Path inside the container where it is mounted.
  storage_mountpoint: /var/lib/rancher/etcd-custom

  # On top of it (with or without custom mount) you can use tmpfs
  # as a volatile storage.
  #
  # CAUTION: This will create temporary filesystem (in the memory)
  # so if an etcd node will be poweroff then all etcd data will be
  # lost!!!
  #
  # Don't use unless you don't care about your cluster!
  #
  # This is intended as an attempt to make deployment little bit
  # more faster...by default it is disabled.
  enabled_unsafe_volatile_storage: false
  # Size of the volatile storage - tmpfs (this will eat your RAM)
  tmpfs_size: 5G

rke:
  # rke (rancher) images
  etcd: rancher/coreos-etcd:v3.2.24-rancher1
  alpine: rancher/rke-tools:v0.1.27
  nginx_proxy: rancher/rke-tools:v0.1.27
  cert_downloader: rancher/rke-tools:v0.1.27
  kubernetes_services_sidecar: rancher/rke-tools:v0.1.27
  kubedns: rancher/k8s-dns-kube-dns:1.15.0
  dnsmasq: rancher/k8s-dns-dnsmasq-nanny:1.15.0
  kubedns_sidecar: rancher/k8s-dns-sidecar:1.15.0
  kubedns_autoscaler: rancher/cluster-proportional-autoscaler:1.0.0
  coredns: coredns/coredns:1.2.6
  coredns_autoscaler: rancher/cluster-proportional-autoscaler:1.0.0
  kubernetes: rancher/hyperkube:v1.13.5-rancher1
  flannel: rancher/coreos-flannel:v0.10.0-rancher1
  flannel_cni: rancher/flannel-cni:v0.3.0-rancher1
  calico_node: rancher/calico-node:v3.4.0
  calico_cni: rancher/calico-cni:v3.4.0
  calico_controllers: ""
  calico_ctl: rancher/calico-ctl:v2.0.0
  canal_node: rancher/calico-node:v3.4.0
  canal_cni: rancher/calico-cni:v3.4.0
  canal_flannel: rancher/coreos-flannel:v0.10.0
  weave_node: weaveworks/weave-kube:2.5.0
  weave_cni: weaveworks/weave-npc:2.5.0
  pod_infra_container: rancher/pause:3.1
  ingress: rancher/nginx-ingress-controller:0.21.0-rancher3
  ingress_backend: rancher/nginx-ingress-controller-defaultbackend:1.4-rancher1
  metrics_server: rancher/metrics-server:v0.3.1
