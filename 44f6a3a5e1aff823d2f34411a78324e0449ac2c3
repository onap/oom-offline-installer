{
  "comments": [
    {
      "key": {
        "uuid": "9adffdf1_932db397",
        "filename": "ansible/roles/docker/tasks/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 4886
      },
      "writtenOn": "2019-01-09T14:00:59Z",
      "side": 1,
      "message": "This does not work - undefined variable. This works:\n\"{{ hostvars[groups.infrastructure[0]].ansible_default_ipv4.address | default(ansible_all_ipv4_addresses[0]) }}\"\n\nBut the first return address is wrong - idempotency is broken, because after first playbook run there are created new docker interfaces and this will return first non-loopback address which in my case was 172.16.0.0/16 instead of the desired one 10.0.0.0/8",
      "revId": "44f6a3a5e1aff823d2f34411a78324e0449ac2c3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9adffdf1_a1f65cf7",
        "filename": "ansible/roles/docker/tasks/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-01-11T11:22:17Z",
      "side": 1,
      "message": "Hey, honestly it is a bit interesting that the first ip address changes over time. if you would do \"ip addr\" on linux then first is always lo, then physical interfaces go, interfaces created later are shown later.",
      "parentUuid": "9adffdf1_932db397",
      "revId": "44f6a3a5e1aff823d2f34411a78324e0449ac2c3",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}