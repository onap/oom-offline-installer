{
  "comments": [
    {
      "key": {
        "uuid": "c3d32236_e7c194cd",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-28T11:09:49Z",
      "side": 1,
      "message": "Actually what happens if you would like helm option that has no argument? like --wait or some other things like that?",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca5c2fec_0be46e2d",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-05-28T14:18:12Z",
      "side": 1,
      "message": "val can be empty I suppose",
      "parentUuid": "c3d32236_e7c194cd",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a75a8707_161ef269",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-28T11:09:49Z",
      "side": 1,
      "message": "Hmm, didn\u0027t even know you can do for here, on the other hand isn\u0027t it possible/better to use some kind of mapping filter here instead? just asking.",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3841db9_90849f8a",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-05-28T14:18:12Z",
      "side": 1,
      "message": "do you have some concrete filter in mind ?",
      "parentUuid": "a75a8707_161ef269",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d33a1459_b84afb4c",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-28T14:23:01Z",
      "side": 1,
      "message": "not yet, but seems like using for and other block constructs of jinja is an antipattern as I cited in my last comment, so... hmm",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f63dce6_56a9d607",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-28T14:55:35Z",
      "side": 1,
      "message": "Ok. I believe the json_query filter may be advanced enough, othervise it is going to be a pain. ofc combined with other filters like join, if you would turn each option into a list [name, value] then flatten it and join with spaces, or something like this.",
      "parentUuid": "f3841db9_90849f8a",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f888ca81_256ffcd6",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-28T16:28:27Z",
      "side": 1,
      "message": "From what I\u0027ve read so far, I didn\u0027t find our exact case, but it seems you should always use ansible loop constructs for looping.\nThat means using set_fact + variable concatenation, it seems.\n\n- name: Build extra options\n  set_fact:\n    extra_opts: \"{{ extra_opts }} {{ item.optname }} {{ item.optval }}\"\n  loop: \"{{ helm_install_extra_options }}\"\n\nAnd then you would use command with the new var. Alternatively, change format of helm_install_extra_opts to be either plain string or plain list of strings, then you can use nothing or a simple join filter.",
      "parentUuid": "0f63dce6_56a9d607",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f637ab45_762d4dcd",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-05-29T08:31:49Z",
      "side": 1,
      "message": "Could you please provide some link to doc to advocate that statement?\n\n\"Arg.val\" can be set empty as stated in https://gerrit.onap.org/r/c/oom/offline-installer/+/88348/3/ansible/roles/application/defaults/main.yml#4 so it does the trick as of me.",
      "parentUuid": "d33a1459_b84afb4c",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fcbd640d_da85ee49",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-05-29T09:10:50Z",
      "side": 1,
      "message": "\u003e Could you please provide some link to doc to advocate that statement?\nFirst, it is written here https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#id23\nSecond, i saw an issue where it was explicitly stated: https://github.com/ansible/ansible/issues/17704\n\u003e \n\u003e \"Arg.val\" can be set empty as stated in https://gerrit.onap.org/r/c/oom/offline-installer/+/88348/3/ansible/roles/application/defaults/main.yml#4 so it does the trick as of me.",
      "parentUuid": "f637ab45_762d4dcd",
      "revId": "1187ecad0df5204b52923fb70d603c7b769aa51e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}