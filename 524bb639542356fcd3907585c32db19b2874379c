{
  "comments": [
    {
      "key": {
        "uuid": "c53ab530_a00792d1",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T11:50:40Z",
      "side": 1,
      "message": "Almost all of these are defined with same values in ansible/groupvars/all.yml, what would be the reason to put them here?",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e1ffac2_8ce7758f",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T12:24:33Z",
      "side": 1,
      "message": "Well in the start of the project you commented that default values should be in role defaults, and this is one of many corrections to that direction :)\n\nFor now my purpose was really testability as role is easier to test when reasonable defaults are defined instead of the need to define them in caller (in this case molecule.yml).\n\nI\u0027m the anti copy-paste fanatic and admit that my heart is bleeding out to copy same rows here:/ And in case of this role there are many variables.\nSo I\u0027m not sure how to deal with this mentally:)\n\nAs in the other hand group_vars should have most of them for documentation purposes better visible for user.\nApplication role has many variables that user may want to modify.",
      "parentUuid": "c53ab530_a00792d1",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9befdcd5_ddf43325",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T13:43:35Z",
      "side": 1,
      "message": "The issue with defining vars in several places is it\u0027s error prone - chances are someone changing a var will either change it only in one place and what\u0027s even worse - in wrong place.\n\nIf reasoning for putting variables in goup_vars is documenting them then i think we should put them only here and in documentation, not group_vars. In my opinion a user seeks instructions in doc, not in code. At least as long as everything that is user adjustable is documented.\n\nI understand however your concern about group_vars visibility by caller. Can\u0027t it somehow use actual group_vars files? https://molecule.readthedocs.io/en/latest/configuration.html mentions symlinking as a possible way to include those (paragraph beginning with \"An alternative to the above is symlinking. Molecule creates (...)\".",
      "parentUuid": "9e1ffac2_8ce7758f",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8da75ea1_83f32f4a",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T14:03:45Z",
      "side": 1,
      "message": "yes, I know. Will think about this.",
      "parentUuid": "9befdcd5_ddf43325",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffd262ba_c9ee3473",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T11:50:40Z",
      "side": 1,
      "message": "Already commented the matter of custom override file in ansible/roles/application/tasks/install.yml. Use case where a custom override file would be needed would be better addressed by just possibility to define a custom override file IMHO.\n\nAnd BTW this functionality lacks documentation (should be documented in install guide) without which this patch is incomplete to me.",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8cf1edb_323b6a55",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T11:50:40Z",
      "side": 1,
      "message": "This is pure overengineering for me - if the only purpose of this change was to allow a user to specify custom override file for helm then let\u0027s keep it simple: allow user to define in application_configuration.yml a variable with path to custom override file and in the task below (\"Helm Install application {{ app_name }}\") perform a check like \"if user_defined_template_path var is defined then include it otherwise take default one\".",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b429fedc_c9aaff16",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T12:24:33Z",
      "side": 1,
      "message": "Role in ansible is a natural place for a functionality and calling it is also trivial. I would not say it overengineering as functionality is what we need here, not static file.\nOverride file is generated by code, same way it\u0027s possible for user to generate it or download/copy/template it from somewhere. The role can be simple.",
      "parentUuid": "a8cf1edb_323b6a55",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a65fcb1b_eb743bcb",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T13:43:35Z",
      "side": 1,
      "message": "What i called \u0027overengineering\u0027 in particular is the need to change as much as three vars in roles/application/defaults/main.yml in order to configure it: app_skip_helm_override to true, app_helm_override_role to some fancy role name, app_helm_override_file to the actual file template. \n\nIf done by just allowing user to provide own template only one var will  have to be setup + actual template.",
      "parentUuid": "b429fedc_c9aaff16",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e67c720_e6fdbb59",
        "filename": "ansible/roles/application/tasks/install.yml",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T14:03:45Z",
      "side": 1,
      "message": "app_skip_helm_override is skipping override completely, it should not set to true if one wants to provide one.\n\napp_helm_override_file is not template, it\u0027s just path and filename to the final file. That is not needed to be changed if user if fine with default path and default filename.\n\nonly thing is to change app_helm_override_role to own role that can be dead simple to provide own file (if static file) or generate the content with code like in our case we are doing.",
      "parentUuid": "a65fcb1b_eb743bcb",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "493f6ac4_124da6f0",
        "filename": "ansible/roles/application/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T11:50:40Z",
      "side": 1,
      "message": "Please \"git mv ansible/roles/application-install/tasks/main.yml ansible/roles/application/tasks/main.yml\", we\u0027re loosing history for this file after git rm \u003e git add and possibility to see real improvement in diff.",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b60dbda2_c525983f",
        "filename": "ansible/roles/application/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T12:24:33Z",
      "side": 1,
      "message": "Ok I try, is it still possible with subsequent changeset?",
      "parentUuid": "493f6ac4_124da6f0",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "655c9918_33c770d6",
        "filename": "ansible/roles/application/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T13:43:35Z",
      "side": 1,
      "message": "Did some hacking specially for you:)\n\ngit reset --soft e9fca5ef39ebdc51d4d0f1af175960fb51cd903e\ngit reset HEAD ansible/roles/application/tasks/main.yml ansible/roles/application-install/tasks/main.yml\ngit checkout ansible/roles/application-install/tasks/main.yml\ncp ansible/roles/application/tasks/main.yml /tmp/\ngit mv -f ansible/roles/application-install/tasks/main.yml ansible/roles/application/tasks/main.yml\ncp /tmp/main.yml ansible/roles/application/tasks/main.yml\ngit add ansible/roles/application/tasks/main.yml\ngit commit -a\n\nI bet there\u0027s a more git native way to achieve the same. We can commence some contest on this, MichalP will buy beer for the winner :\u003e",
      "parentUuid": "b60dbda2_c525983f",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f7a0192_be3cf491",
        "filename": "ansible/roles/application/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-03-19T14:03:45Z",
      "side": 1,
      "message": "OMG, cool, thanks!",
      "parentUuid": "655c9918_33c770d6",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae5dc99c_52e0043e",
        "filename": "ansible/roles/application/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5097
      },
      "writtenOn": "2019-03-19T14:08:07Z",
      "side": 1,
      "message": "16€ or beer",
      "parentUuid": "4f7a0192_be3cf491",
      "revId": "524bb639542356fcd3907585c32db19b2874379c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}