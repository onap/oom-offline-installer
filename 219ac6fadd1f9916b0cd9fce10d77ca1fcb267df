{
  "comments": [
    {
      "key": {
        "uuid": "64eea66d_849cb828",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-07-02T07:51:42Z",
      "side": 1,
      "message": "why introduce additional array ? I think we can rather rename \"app_helm_override_file\" to \"app_helm_override_files\" and append our override with certificate in application-override file",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1184245_ebd27363",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-07-03T08:49:54Z",
      "side": 1,
      "message": "It is probably mostly because this file with certificates is generated, and it\u0027s name is not hardcoded, so is put into a variable. that is why there is still app_helm_override_file.",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05750966_fcf36cb4",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5000
      },
      "writtenOn": "2019-07-03T11:47:07Z",
      "side": 1,
      "message": "But what is the reason to create another variable \"additional_helm_override_files\" as there is already the \"helm_over(r)ide_file\" array where should be placed all override files and does not matter if it\u0027s the one with our own certificate or what. In the helm_override_files should be list of all files needed (e.g. onap/resources/overrides/onap-all.yaml; onap/resources/overrides/environment.yaml; onap/resources/overrides/openstack.yaml etc.). Just need to be careful about the path...",
      "parentUuid": "a1184245_ebd27363",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e2b46d5_14122f60",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-07-03T12:13:03Z",
      "side": 1,
      "message": "Well it has it\u0027s reasoning. Normally when you override a variable in ansible like list, then you don\u0027t append to it, but replace it. In this case it is for example cicdansible where you give your own list of overrides, you also need to remember to give the full path to override.yml file, and you need to remember you can\u0027t even use any ansible variables there.\nEven more, because the app overridefile should override everything else, so if it is put at the end of the list, then it wouldn\u0027t work even if you could append instead of replacing.\nFor that reason the app override is in a separate variable, additional overrides are in a separate variable, and they are merged, with relative paths apsolutized, to make it easier to actually change the defaults.",
      "parentUuid": "05750966_fcf36cb4",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1d0c9d6_373bf832",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5239
      },
      "writtenOn": "2019-07-03T14:43:30Z",
      "side": 1,
      "message": "The initial idea with this lists was that when executing installation multiple files can be used as override (basically that is the way of supplying configuration to onap at deployment time). Michal did not create a new variable array, he has renamed previous one (I think the old name was better - but that is just a name).\n\nIn base version if user sets \"app_skip_helm_override \u003d false\" there is no way to supply custom override files. In his change he:\n - allowed user to set path to multiple override files that can be supplied in two ways. In helm charts during packaging (relative path) or manually loaded on to infra node before starting installer (absolute path).\n - separated dynamically generated file from manually inserted files\n\nThe thing I miss in this change is a \"good documentation\", mentioning way of supplying files and importance of their order.",
      "range": {
        "startLine": 15,
        "startChar": 5345,
        "endLine": 15,
        "endChar": 5348
      },
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18a4a958_9ba852b6",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-07-04T09:52:07Z",
      "side": 1,
      "message": "I improved... Or tried to improve documentation a bit.",
      "parentUuid": "d1d0c9d6_373bf832",
      "range": {
        "startLine": 15,
        "startChar": 5345,
        "endLine": 15,
        "endChar": 5348
      },
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77854505_f0ddee8c",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5052
      },
      "writtenOn": "2019-07-04T10:51:04Z",
      "side": 1,
      "message": "why do you assume app override has to override everything else? what if I as user want to have some other file that I want to put at the end so I don\u0027t need to touch others. In any case if you are in position where you specify same variables in multiple overrides you should know what will happen. Otherwise unexpected behaviour should be expected in this case.",
      "parentUuid": "4e2b46d5_14122f60",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa27aaa2_a361da25",
        "filename": "ansible/roles/application/defaults/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-07-04T11:13:52Z",
      "side": 1,
      "message": "because the app override also contains user specified override variables. that is the reasoning for it being last.",
      "parentUuid": "77854505_f0ddee8c",
      "revId": "219ac6fadd1f9916b0cd9fce10d77ca1fcb267df",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}