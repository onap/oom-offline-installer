{
  "comments": [
    {
      "key": {
        "uuid": "101a1bb0_2b1f1ea1",
        "filename": "ansible/application/onap-casablanca-patch-role/tasks/main.yml",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T09:41:26Z",
      "side": 1,
      "message": "do not save this application specific role code here in git.\nansible/application folder is kept empty on git.\nThis role code is copied at install/runtime to directory defined in ansible.cfg roles_path.\n\n\nThere seems to be now a confusion in installer code i.e. app helm charts are mixed with app specific roles.\nComment shere wrong:\nhttps://gerrit.onap.org/r/gitweb?p\u003doom/offline-installer.git;a\u003dblob;f\u003dansible/group_vars/all.yml;h\u003d0a73b63785d2943c9019ed1c4d901751576d2edf;hb\u003drefs/heads/master#l91\n\nand is this the place to move app helm charts to final location https://gerrit.onap.org/r/gitweb?p\u003doom/offline-installer.git;a\u003dblob;f\u003dansible/roles/application-install/tasks/pre-install.yml;h\u003d88a95ea68ae06b9bd417caebdec3075bd64b01dd;hb\u003drefs/heads/master#l3 ?\n\nSo where app specific roles are transferred to location where ansible can see them?",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "750a72bd_5adad207",
        "filename": "ansible/application/onap-casablanca-patch-role/tasks/main.yml",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T14:40:09Z",
      "side": 1,
      "message": "IMHO this is exactly the place where application specific roles like this one should be. Keeping this dir empty is very  confusing, because nobody practically knows how to fill it right. We definitely needs application specific roles like this in git, where would you like to see it instead ? Sorry links you shared are broken. This practice s aligned with  package.sh script (see SW addons)",
      "parentUuid": "101a1bb0_2b1f1ea1",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c81c7f02_d2734eb1",
        "filename": "ansible/application/onap-casablanca-patch-role/tasks/main.yml",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T15:50:55Z",
      "side": 1,
      "message": "roles will be there in right place during runtime (user do not need to care where), only in git it will be empty. We do not even need the dir in git but it\u0027s there for the documentation reasons (README), but when documentation will be created properly on top level we can remove these single README files.\nThe point is that that place where app helm charts and app roles are copied is internal for the installer not revealed for the user. \nWe document for the user properly how to provide helm charts and roles for the installer (package) and it will not be confusing.\n\nI git we can save the app configuration and app roles needed for Casablanca to separate folder on top level (like the patches) and those files can be used if user wants when making package. Those files will be \"outside\" installer and just one option how to package. Basically these files could be also provided in different git repo.",
      "parentUuid": "750a72bd_5adad207",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e03c7f2a_aa7b3db4",
        "filename": "ansible/application/onap-casablanca-patch-role/tasks/main.yml",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T16:22:31Z",
      "side": 1,
      "message": "our primary goal and afaik 100% of consumers of this oom/offline-installer repo expects that they can install Casablanca ONAP using OOM charts. I am afraid that such push for genericity of installer makes this primary usecase more cumbersome to apply. If we put all changes we need (config from group_vars, casablanca patching role, patchfile) for this installation outside of installer and just try make some instructions in README it will create unnecessary extra (manual) step and potential for failure. I am not against writing the installer generic so it can be reused later for other cases, but just when it\u0027s not complicating it\u0027s primary purpose. What about OOM PTL to decide here ? Both these views are based on our understanding of expectations from the community, comments of people outside of our group might be very beneficial.",
      "parentUuid": "c81c7f02_d2734eb1",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cfbbeaa3_305d9b7f",
        "filename": "ansible/application/onap-casablanca-patch-role/tasks/main.yml",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T16:43:31Z",
      "side": 1,
      "message": "On the contrary the aim is try to make it more clear and easier to use. I.e. ONAP Casablanca needed configuration in one place and not in many places deep inside the git repo structure.\nThis is very basic separation of code (installer) and the configuration. All the needed generality is already there and no change on that or making it more generic. Just using it in the way it was designed. \nThe other cases you refer is probably something else than ONAP? This is not the intended use case I\u0027m after here (even if it will help on that also), just separate onap Casablanca configuration. Other use cases could be ONAP Beijing, ONAP Dublin and ONAP with different components and different configs (different patch roles).",
      "parentUuid": "e03c7f2a_aa7b3db4",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "217fb607_f828095e",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T09:41:26Z",
      "side": 1,
      "message": "do not edit this file for the values. Provide separate application_configuration.yml example/template file for the onap Casablanca installation purposes.\nSame way as for patches. Create some dir there on top level e.g. onap-conf etc. Save there application_configuration.yml \n file with proper values filled e.g. this pre_install_role. Also save there the pre install role code in own dir.",
      "range": {
        "startLine": 131,
        "startChar": 30,
        "endLine": 131,
        "endChar": 56
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85039067_db9a3155",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T14:40:09Z",
      "side": 1,
      "message": "keeping this file that generic and empty, means that in practice is useless and one has to use some \"example but real config instead\", this will just introduce additional unnecessary step but I will think about it.",
      "parentUuid": "217fb607_f828095e",
      "range": {
        "startLine": 131,
        "startChar": 30,
        "endLine": 131,
        "endChar": 56
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bec7392_c32bdd66",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T15:50:55Z",
      "side": 1,
      "message": "well this is documentation of available options AND default values for all parameters we reasonable can define some default. I don\u0027t think onap-casablanca-patch-role is good generic default value for this. Of course it does not harm as it can be overriden by own config but will be confusing. \n\nAs mentioned in other comment we can save values i.e. application_configuration.yml file known to working with ONAP Casablanca to top level dir together with those app roles files.",
      "parentUuid": "85039067_db9a3155",
      "range": {
        "startLine": 131,
        "startChar": 30,
        "endLine": 131,
        "endChar": 56
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "494f4081_d7b790db",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 4965
      },
      "writtenOn": "2019-02-02T14:24:43Z",
      "side": 1,
      "message": "Why below lines are removed? How is it related to this patch?",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f8fb342_c332b6da",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T09:41:26Z",
      "side": 1,
      "message": "Yes those lines should not be removed. \nIt\u0027s a documentation for user what kind of things he/she can configure. I.e. these lines must be commented out (as they were) if no reasonable working default value can be provided for the parameter in question. And now those are onap specific and related to Openstack so cannot define any defaults but user must define.\nThis part could be improved a bit with comment to describe \nthis more. Now the doc is:\n\n# any other application specific params can be specified in this file\n# e.g.\n...\n\nWell maybe the confusion is \"can be specified in this file\". That is true but in practice user should not edit this file but define those params in application_configuration.yml that is given as parameter for the installer run.\nAnd specificly this file\u0027s values should not be edited in git (except reasonable default values).",
      "parentUuid": "494f4081_d7b790db",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ba1ed92_bd038762",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T14:40:09Z",
      "side": 1,
      "message": "during this review we agreed that we won\u0027t be patching onap/values.yaml. this example was covering this case. Keeping example values for something we think that it\u0027s not needed doesnt make much sense",
      "parentUuid": "7f8fb342_c332b6da",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df684647_63fc5c34",
        "filename": "ansible/group_vars/all.yml",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T15:50:55Z",
      "side": 1,
      "message": "as mentioned above this is documentation. Example values can be anything app related onap or something else.\ndoes not matter much are those here or not but they need to be commented out lines anyway. And comment on line 134 we should keep at least.",
      "parentUuid": "2ba1ed92_bd038762",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14766362_f028199e",
        "filename": "build/fetch_and_patch_charts.sh",
        "patchSetId": 4
      },
      "lineNbr": 22,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T09:41:26Z",
      "side": 1,
      "message": "I don\u0027t see it\u0027s used anywhere or referenced anywhere?",
      "range": {
        "startLine": 21,
        "startChar": 5,
        "endLine": 22,
        "endChar": 46
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "925e4536_dfc4899c",
        "filename": "build/fetch_and_patch_charts.sh",
        "patchSetId": 4
      },
      "lineNbr": 22,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T14:40:09Z",
      "side": 1,
      "message": "it\u0027s in newer version of buildguide, see row 301 at https://gerrit.onap.org/r/#/c/77575/5/doc/BuildGuide.rst",
      "parentUuid": "14766362_f028199e",
      "range": {
        "startLine": 21,
        "startChar": 5,
        "endLine": 22,
        "endChar": 46
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c38ab9e7_c3ed5366",
        "filename": "build/fetch_and_patch_charts.sh",
        "patchSetId": 4
      },
      "lineNbr": 22,
      "author": {
        "id": 3957
      },
      "writtenOn": "2019-02-03T15:50:55Z",
      "side": 1,
      "message": "yes found it later.",
      "parentUuid": "925e4536_dfc4899c",
      "range": {
        "startLine": 21,
        "startChar": 5,
        "endLine": 22,
        "endChar": 46
      },
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2675bb18_0d22c0f8",
        "filename": "build/fetch_and_patch_charts.sh",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 4965
      },
      "writtenOn": "2019-02-02T14:24:43Z",
      "side": 1,
      "message": "I would opt for using git am here instead of just patch to add also some commit messages to sources instead of just changes",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47d35064_0c686977",
        "filename": "build/fetch_and_patch_charts.sh",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 4009
      },
      "writtenOn": "2019-02-03T14:40:09Z",
      "side": 1,
      "message": "patching of helm charts is considered to be a temporary solution, we would like to avoid it in Dublin and try to implement those options directly in upstream OOM. Running own OOM project instead of patching it is quite an overhead",
      "parentUuid": "2675bb18_0d22c0f8",
      "revId": "a2f018ed60b06e47d20e537350aebbfd06f91acd",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}